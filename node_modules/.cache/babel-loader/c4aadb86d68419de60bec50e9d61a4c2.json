{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/starwars-planets-search/src/components/Table.jsx\";\nimport React, { useContext, useState } from 'react';\nimport StarWarsContext from '../context/StarWarsContext';\nimport './App.css'; // feito olhando com o base o repositorio: https://github.com/tryber/sd-013-b-revisao-music-table/blob/master/src/components/Table.jsx\n// https://www.youtube.com/watch?v=zypbcG3ZVnc&list=PLC3y8-rFHvwgWTSrDiwmUsl4ZvipOw9Cz&index=6\n// https://www.youtube.com/watch?v=taVHzPDNHDU&list=PLC3y8-rFHvwgWTSrDiwmUsl4ZvipOw9Cz&index=7\n\nfunction Table() {\n  const {\n    planets,\n    setPlanets,\n    filter,\n    setFilter,\n    setSortAscOrDesc,\n    setSortColumn,\n    sortColumn,\n    sortAscOrDesc\n  } = useContext(StarWarsContext);\n  const [filterName, setFilterName] = useState('');\n  const [column, setColumn] = useState('population');\n  const [comparison, setComparison] = useState('maior que');\n  const [value, setValue] = useState('0');\n  const [newOptions, setNewOptions] = useState(['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n\n  function removeFilter() {\n    setFilter({\n      filters: { ...filter.filters,\n        filterByNumericValues: []\n      }\n    });\n    setNewOptions(['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n    setValue('0');\n    setComparison('maior que');\n    setColumn('orbital_period');\n  }\n\n  function createNewColumn(oldColumn) {\n    const newColumn = [...newOptions];\n    newColumn.splice(newColumn.indexOf(oldColumn), 1);\n    setNewOptions(newColumn);\n  } // https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\n  // Feito com a ajuda do Lucas Caribé\n\n\n  function sortFilter(table, type) {\n    const sortedColumn = [...planets].sort((planetA, planetB) => {\n      if (type === 'ASC') {\n        return planetA[table].localeCompare(planetB[table], 'en', {\n          numeric: true\n        });\n      }\n\n      return planetB[table].localeCompare(planetA[table], 'en', {\n        numeric: true\n      });\n    });\n    setPlanets(sortedColumn);\n  }\n\n  function handleClick() {\n    setFilter({\n      filters: { ...filter.filters,\n        filterByNumericValues: [{\n          column,\n          comparison,\n          value\n        }]\n      }\n    });\n    createNewColumn(column);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: ({\n      target\n    }) => setSortColumn(target.value),\n    \"data-testid\": \"column-sort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"population\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"population\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"orbital_period\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"orbital_period\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"diameter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"diameter\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"rotation_period\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"rotation_period\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"surface_water\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"surface_water\")), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"asc-radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"ASC\", /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"column-sort-input-asc\",\n    name: \"sort-radios\",\n    id: \"asc-radio\",\n    type: \"radio\",\n    value: \"ASC\",\n    onClick: () => setSortAscOrDesc('ASC'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"desc-radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"DESC\", /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"column-sort-input-desc\",\n    name: \"sort-radios\",\n    id: \"desc-radio\",\n    type: \"radio\",\n    value: \"DESC\",\n    onClick: () => setSortAscOrDesc('DESC'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => sortFilter(sortColumn, sortAscOrDesc),\n    \"data-testid\": \"column-sort-button\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    \"data-testid\": \"name-filter\",\n    onChange: event => setFilterName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": \"column-filter\",\n    onChange: event => setColumn(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, newOptions.map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option,\n    value: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, option))), /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": \"comparison-filter\",\n    onChange: event => setComparison(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"maior que\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, \"maior que\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"menor que\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, \"menor que\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"igual a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"igual a\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    \"data-testid\": \"value-filter\",\n    onChange: event => setValue(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"button-filter\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": \"filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: removeFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, \" X \")), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, \"Rotation Period\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"Orbital Period\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, \"Diameter\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, \"Climate\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"Gravity\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"Terrain\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Surface Water\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, \"Population\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"Films\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, \"Created\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"Edited\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"Url\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, planets.filter(planet => {\n    const values = filter.filters.filterByNumericValues[0];\n    let filteredResult = []; // Feito com a ajuda da Paulinha na monitoria individual\n\n    if (values) {\n      if (values.comparison === 'maior que') {\n        filteredResult = Number(planet[values.column]) > Number(values.value);\n      } else if (values.comparison === 'menor que') {\n        filteredResult = Number(planet[values.column]) < Number(values.value);\n      } else if (values.comparison === 'igual a') {\n        filteredResult = Number(planet[values.column]) === Number(values.value);\n      }\n\n      return filteredResult;\n    }\n\n    return planets;\n  }).filter(planet => planet.name.toLowerCase().includes(filterName.toLowerCase())).map(planet => /*#__PURE__*/React.createElement(\"tr\", {\n    key: planet.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    \"data-testid\": \"planet-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, planet.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, planet.rotation_period), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, planet.orbital_period), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, planet.diameter), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, planet.climate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, planet.gravity), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, planet.terrain), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, planet.surface_water), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, planet.population), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, planet.films), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, planet.created), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, planet.edited), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, planet.url))))));\n}\n\nexport default Table;","map":{"version":3,"sources":["/home/bamberg/starwars-planets-search/src/components/Table.jsx"],"names":["React","useContext","useState","StarWarsContext","Table","planets","setPlanets","filter","setFilter","setSortAscOrDesc","setSortColumn","sortColumn","sortAscOrDesc","filterName","setFilterName","column","setColumn","comparison","setComparison","value","setValue","newOptions","setNewOptions","removeFilter","filters","filterByNumericValues","createNewColumn","oldColumn","newColumn","splice","indexOf","sortFilter","table","type","sortedColumn","sort","planetA","planetB","localeCompare","numeric","handleClick","target","event","map","option","planet","values","filteredResult","Number","name","toLowerCase","includes","rotation_period","orbital_period","diameter","climate","gravity","terrain","surface_water","population","films","created","edited","url"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport StarWarsContext from '../context/StarWarsContext';\nimport './App.css';\n\n// feito olhando com o base o repositorio: https://github.com/tryber/sd-013-b-revisao-music-table/blob/master/src/components/Table.jsx\n// https://www.youtube.com/watch?v=zypbcG3ZVnc&list=PLC3y8-rFHvwgWTSrDiwmUsl4ZvipOw9Cz&index=6\n// https://www.youtube.com/watch?v=taVHzPDNHDU&list=PLC3y8-rFHvwgWTSrDiwmUsl4ZvipOw9Cz&index=7\nfunction Table() {\n  const { planets, setPlanets, filter, setFilter, setSortAscOrDesc,\n    setSortColumn, sortColumn, sortAscOrDesc } = useContext(StarWarsContext);\n  const [filterName, setFilterName] = useState('');\n  const [column, setColumn] = useState('population');\n  const [comparison, setComparison] = useState('maior que');\n  const [value, setValue] = useState('0');\n  const [newOptions, setNewOptions] = useState([\n    'population',\n    'orbital_period',\n    'diameter',\n    'rotation_period',\n    'surface_water',\n  ]);\n\n  function removeFilter() {\n    setFilter({\n      filters: {\n        ...filter.filters,\n        filterByNumericValues: [],\n      },\n    });\n    setNewOptions(['population', 'orbital_period',\n      'diameter', 'rotation_period', 'surface_water']);\n    setValue('0');\n    setComparison('maior que');\n    setColumn('orbital_period');\n  }\n\n  function createNewColumn(oldColumn) {\n    const newColumn = [...newOptions];\n    newColumn.splice(newColumn.indexOf(oldColumn), 1);\n    setNewOptions(newColumn);\n  }\n  // https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\n  // Feito com a ajuda do Lucas Caribé\n  function sortFilter(table, type) {\n    const sortedColumn = [...planets]\n      .sort((planetA, planetB) => {\n        if (type === 'ASC') {\n          return planetA[table].localeCompare(planetB[table], 'en', { numeric: true });\n        }\n        return planetB[table].localeCompare(planetA[table], 'en', { numeric: true });\n      });\n    setPlanets(sortedColumn);\n  }\n\n  function handleClick() {\n    setFilter({\n      filters: {\n        ...filter.filters,\n        filterByNumericValues: [\n          {\n            column,\n            comparison,\n            value,\n          },\n        ],\n      },\n    });\n    createNewColumn(column);\n  }\n\n  return (\n    <>\n      <select\n        onChange={ ({ target }) => setSortColumn(target.value) }\n        data-testid=\"column-sort\"\n      >\n        <option value=\"population\">population</option>\n        <option value=\"orbital_period\">orbital_period</option>\n        <option value=\"diameter\">diameter</option>\n        <option value=\"rotation_period\">rotation_period</option>\n        <option value=\"surface_water\">surface_water</option>\n      </select>\n      <label htmlFor=\"asc-radio\">\n        ASC\n        <input\n          data-testid=\"column-sort-input-asc\"\n          name=\"sort-radios\"\n          id=\"asc-radio\"\n          type=\"radio\"\n          value=\"ASC\"\n          onClick={ () => setSortAscOrDesc('ASC') }\n        />\n      </label>\n      <label htmlFor=\"desc-radio\">\n        DESC\n        <input\n          data-testid=\"column-sort-input-desc\"\n          name=\"sort-radios\"\n          id=\"desc-radio\"\n          type=\"radio\"\n          value=\"DESC\"\n          onClick={ () => setSortAscOrDesc('DESC') }\n        />\n      </label>\n      <button\n        onClick={ () => sortFilter(sortColumn, sortAscOrDesc) }\n        data-testid=\"column-sort-button\"\n        type=\"button\"\n      >\n        Filtrar\n      </button>\n      <input\n        type=\"text\"\n        data-testid=\"name-filter\"\n        onChange={ (event) => setFilterName(event.target.value) }\n      />\n      <select\n        data-testid=\"column-filter\"\n        onChange={ (event) => setColumn(event.target.value) }\n      >\n        { newOptions.map((option) => (\n          <option key={ option } value={ option }>{ option }</option>\n        )) }\n      </select>\n      <select\n        data-testid=\"comparison-filter\"\n        onChange={ (event) => setComparison(event.target.value) }\n      >\n        <option value=\"maior que\">maior que</option>\n        <option value=\"menor que\">menor que</option>\n        <option value=\"igual a\">igual a</option>\n      </select>\n      <input\n        type=\"number\"\n        data-testid=\"value-filter\"\n        onChange={ (event) => setValue(event.target.value) }\n      />\n      <button\n        type=\"button\"\n        data-testid=\"button-filter\"\n        onClick={ handleClick }\n      >\n        Filtrar\n      </button>\n      <div data-testid=\"filter\">\n        <button type=\"button\" onClick={ removeFilter }> X </button>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Rotation Period</th>\n            <th>Orbital Period</th>\n            <th>Diameter</th>\n            <th>Climate</th>\n            <th>Gravity</th>\n            <th>Terrain</th>\n            <th>Surface Water</th>\n            <th>Population</th>\n            <th>Films</th>\n            <th>Created</th>\n            <th>Edited</th>\n            <th>Url</th>\n          </tr>\n        </thead>\n        <tbody>\n          { planets\n            .filter((planet) => {\n              const values = filter.filters.filterByNumericValues[0];\n              let filteredResult = [];\n              // Feito com a ajuda da Paulinha na monitoria individual\n              if (values) {\n                if (values.comparison === 'maior que') {\n                  filteredResult = Number(planet[values.column]) > Number(values.value);\n                } else if (values.comparison === 'menor que') {\n                  filteredResult = Number(planet[values.column]) < Number(values.value);\n                } else if (values.comparison === 'igual a') {\n                  filteredResult = Number(planet[values.column]) === Number(values.value);\n                } return filteredResult;\n              }\n              return planets;\n            })\n            .filter((planet) => planet.name.toLowerCase().includes(\n              filterName.toLowerCase(),\n            ))\n            .map((planet) => (\n              <tr key={ planet.name }>\n                <td data-testid=\"planet-name\">{ planet.name }</td>\n                <td>{ planet.rotation_period }</td>\n                <td>{ planet.orbital_period }</td>\n                <td>{ planet.diameter }</td>\n                <td>{ planet.climate }</td>\n                <td>{ planet.gravity }</td>\n                <td>{ planet.terrain }</td>\n                <td>{ planet.surface_water }</td>\n                <td>{ planet.population }</td>\n                <td>{ planet.films }</td>\n                <td>{ planet.created }</td>\n                <td>{ planet.edited }</td>\n                <td>{ planet.url }</td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}